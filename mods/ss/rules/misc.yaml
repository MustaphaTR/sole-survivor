CRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrateb
	Crate:
		Lifetime: 240
	RevealMapCrateAction:
		SelectionShares: 2
		Effect: reveal-map
		Notification: MapReveal
	HideMapToAllCrateAction:
		SelectionShares: 1
		Effect: hide-map
		Notification: GlobalDarkness
	HideMapCrateAction:
		SelectionShares: 2
		Effect: hide-map
		Notification: GlobalDarkness
	HealUnitsCrateAction:
		SelectionShares: 10
		Effect: heal
		Notification: HealthUpgraded
	SwitchConditionCrateAction@radar:
		Condition: crate-radar
		Prerequisites: !global-radar
		SelectionShares: 4
		Effect: reveal-map
		RevokeEffect: hide-map
		Notification: RadarActivated
		RevokeNotification: RadarDeactivated
	SwitchConditionCrateAction@noradar:
		Condition: crate-no-radar
		Prerequisites: !global-radar
		SelectionShares: 4
		Effect: hide-map
		RevokeEffect: reveal-map
		Notification: RadarDeactivated
		RevokeNotification: RadarActivated
	GiveUnitCrateAction@cloak-detector:
		Units: proxy.cloak-detector
		SelectionShares: 10
		Effect: hide-map
		Notification: GlobalStealthDeactivated
	GiveUnitCrateAction@cloak-remover:
		Units: proxy.cloak-remover
		SelectionShares: 4
		Effect: hide-map
		Notification: GlobalStealthDeactivated
	SwitchConditionCrateAction@cloak:
		SelectionShares: 10
		Effect: cloak
		RevokeEffect: hide-map
		Condition: cloak-crate-collected
		Notification: StealthMode
		RevokeNotification: StealthDeactivated
	SwitchConditionCrateAction@cloak-reverse:
		SelectionShares: 10
		Effect: hide-map
		RevokeEffect: cloak
		Condition: decloak-crate-collected
		Notification: StealthDeactivated
		RevokeNotification: StealthMode
	GrantExternalConditionCrateAction@armor:
		SelectionShares: 15
		Effect: armorup
		Condition: crate-armor
		Sound: armorup.aud
		Notification: ArmorUpgraded
	GrantExternalConditionCrateAction@firepower:
		SelectionShares: 15
		Effect: firepowerup
		Condition: crate-firepower
		Sound: firepowerup.aud
		Notification: WeaponUpgraded
	GrantExternalConditionCrateAction@speed:
		SelectionShares: 15
		Effect: speedup
		Condition: crate-speed
		Sound: speedup.aud
		Notification: SpeedUpgraded
	GrantExternalConditionCrateAction@range:
		SelectionShares: 15
		Effect: airstrike
		Condition: crate-range
		Sound: rangeup.aud
		Notification: RangeUpgraded
	GrantExternalConditionCrateAction@rof:
		SelectionShares: 15
		Effect: rateoffireup
		Condition: crate-rof
		Sound: rateoffireup.aud
		Notification: RapidReload
	GrantExternalConditionCrateAction@sight:
		SelectionShares: 15
		Effect: reveal-map
		Condition: crate-sight
		Sound: radarup.aud
		Notification: RangeUpgraded
	LevelUpCrateAction:
		Levels: 1
		SelectionShares: 8
		Prerequisites: global-veterancy
	PlayerExperienceCrateAction:
		Experience: 5
		SelectionShares: 2
		Effect: experience
	TeleportCrateAction:
		MinDistance: 5
		SetCameraPosition: true
		Effect: teleport
		SelectionShares: 6
		Sound: teleport.aud
		Notification: TeleportActivated
	RenderSprites:
		Image: crate-brown

UPGRADECRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrates
	Crate:
		Lifetime: 240
	GrantExternalConditionCrateAction@armor:
		SelectionShares: 15
		Effect: armorup
		Condition: crate-armor
		Sound: armorup.aud
		Notification: ArmorUpgraded
	GrantExternalConditionCrateAction@firepower:
		SelectionShares: 15
		Effect: firepowerup
		Condition: crate-firepower
		Sound: firepowerup.aud
		Notification: WeaponUpgraded
	GrantExternalConditionCrateAction@speed:
		SelectionShares: 15
		Effect: speedup
		Condition: crate-speed
		Sound: speedup.aud
		Notification: SpeedUpgraded
	GrantExternalConditionCrateAction@range:
		SelectionShares: 15
		Effect: airstrike
		Condition: crate-range
		Sound: rangeup.aud
		Notification: RangeUpgraded
	GrantExternalConditionCrateAction@rof:
		SelectionShares: 15
		Effect: rateoffireup
		Condition: crate-rof
		Sound: rateoffireup.aud
		Notification: RapidReload
	GrantExternalConditionCrateAction@sight:
		SelectionShares: 15
		Effect: reveal-map
		Condition: crate-sight
		Sound: radarup.aud
		Notification: RangeUpgraded
	RenderSprites:
		Image: crate-blue

HEALCRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrateg
	Crate:
		Lifetime: 240
	SSHealCrateAction:
		Weapon: Atomic
		Effect: heal
		SelectionShares: 30
		Notification: HealthUpgraded
		WeaponNotification: NuclearBomb
	RenderSprites:
		Image: crate-green

EXPERIENCECRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrated
	Crate:
		Lifetime: 240
	LevelUpCrateAction:
		Levels: 1
		SelectionShares: 1
		Prerequisites: global-veterancy
	PlayerExperienceCrateAction:
		Experience: 20
		SelectionShares: 19
		Effect: experience
	RenderSprites:
		Image: crate-dark

WACKYCRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrateo
	Crate:
		Lifetime: 240
	GrantExternalConditionCrateAction@WACKY:
		SelectionShares: 1
		Effect: wacky
		Duration: 250
		Condition: crate-wacky
	RenderSprites:
		Image: crate-orange

mpspawn:
	Interactable:
	EditorOnlyTooltip:
		Name: (multiplayer player starting point)
	AlwaysVisible:
	Immobile:
		OccupiesSpace: false
	WithSpriteBody:
	RenderSpritesEditorOnly:
	BodyOrientation:
		QuantizedFacings: 1
	MapEditorData:
		Categories: System

waypoint:
	Interactable:
	EditorOnlyTooltip:
		Name: (waypoint for scripted behavior)
	AlwaysVisible:
	Immobile:
		OccupiesSpace: false
	WithSpriteBody:
	RenderSpritesEditorOnly:
	BodyOrientation:
		QuantizedFacings: 1
	MapEditorData:
		Categories: System

fact.colorpicker:
	Inherits: FACT
	-MapEditorData:
	RenderSprites:
		Image: fact
		Palette: colorpicker

proxy.cloak-detector:
	Inherits: CAMERA
	-Immobile:
	-RevealsShroud:
	Mobile:
		Locomotor: foot
	RejectsOrders:
	DetectCloaked:
		Range: 1024c0
	KillsSelf:
		Delay: 625
		RemoveInstead: true
	RenderSpritesEditorOnly:
		Image: CAMERA

proxy.cloak-remover:
	Inherits: CAMERA
	-Immobile:
	-RevealsShroud:
	Mobile:
		Locomotor: foot
	RejectsOrders:
	ProximityExternalCondition:
		Condition: cloak-global-disable
		Range: 1024c0
	KillsSelf:
		Delay: 625
		RemoveInstead: true
	RenderSpritesEditorOnly:
		Image: CAMERA

CAMERA:
	Interactable:
	EditorOnlyTooltip:
		Name: (reveals area to owner)
	AlwaysVisible:
	WithSpriteBody:
	RenderSpritesEditorOnly:
	BodyOrientation:
		QuantizedFacings: 1
	Immobile:
		OccupiesSpace: false
	RevealsShroud:
		Range: 10c0
		Type: CenterPosition
	MapEditorData:
		Categories: System

CAMERA.small:
	Interactable:
	EditorOnlyTooltip:
		Name: (reveals small area to owner)
	AlwaysVisible:
	WithSpriteBody:
	RenderSpritesEditorOnly:
		Image: camera
	BodyOrientation:
		QuantizedFacings: 1
	Immobile:
		OccupiesSpace: false
	Health:
		HP: 100000
	HitShape:
	RevealsShroud:
		Range: 6c0
		Type: CenterPosition
	MapEditorData:
		Categories: System

CAMERA.spyplane:
	Inherits: CAMERA.small
	Inherits@CRATE: ^AcceptsCratePowerups
	Inherits@EXTERNAL-SIGHT: ^RequiresExternalSightCratePowerup
	ConditionManager:
	RevealsShroud:
		Range: 7c512
	DetectCloaked:
		Range: 7c512

FLARE:
	Immobile:
		OccupiesSpace: false
	RevealsShroud:
		Range: 3c0
		Type: CenterPosition
	RenderSprites:
		Image: smokland
		Palette: terrain
	WithSpriteBody:
		StartSequence: open
	HiddenUnderFog:
		Type: CenterPosition
	Tooltip:
		Name: Flare
		ShowOwnerRow: false
	BodyOrientation:
		QuantizedFacings: 1
	MapEditorData:
		Categories: System
	Interactable:
