CRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrateb
	SSCrate:
		Lifetime: 240
	RevealMapCrateAction:
		SelectionShares: 2
		Sequence: reveal-map
		Notification: MapReveal
	HideMapToAllCrateAction:
		SelectionShares: 1
		Sequence: hide-map
		Notification: GlobalDarkness
	HideMapCrateAction:
		SelectionShares: 2
		Sequence: hide-map
		Notification: GlobalDarkness
	HealUnitsCrateAction:
		SelectionShares: 8
		Sequence: heal
		Notification: HealthUpgraded
	SwitchConditionCrateAction@radar:
		Condition: crate-radar
		Prerequisites: !global-radar
		SelectionShares: 4
		Sequence: reveal-map
		RevokeSequence: hide-map
		Notification: RadarActivated
		RevokeNotification: RadarDeactivated
	SwitchConditionCrateAction@noradar:
		Condition: crate-no-radar
		Prerequisites: !global-radar
		SelectionShares: 4
		Sequence: hide-map
		RevokeSequence: reveal-map
		Notification: RadarDeactivated
		RevokeNotification: RadarActivated
	GiveUnitCrateAction@cloak-detector:
		Units: proxy.cloak-detector
		SelectionShares: 8
		Sequence: hide-map
		Notification: GlobalStealthDeactivated
	GiveUnitCrateAction@cloak-remover:
		Units: proxy.cloak-remover
		SelectionShares: 4
		Sequence: hide-map
		Notification: GlobalStealthDeactivated
	SwitchConditionCrateAction@cloak:
		SelectionShares: 10
		Sequence: cloak
		RevokeSequence: hide-map
		Condition: cloak-crate-collected
		Notification: StealthMode
		RevokeNotification: StealthDeactivated
	SwitchConditionCrateAction@cloak-reverse:
		SelectionShares: 10
		Sequence: hide-map
		RevokeSequence: cloak
		Condition: decloak-crate-collected
		Notification: StealthDeactivated
		RevokeNotification: StealthMode
	GrantExternalConditionCrateAction@armor:
		SelectionShares: 20
		Sequence: armorup
		Condition: crate-armor
		Sound: armorup.aud
		Notification: ArmorUpgraded
	GrantExternalConditionCrateAction@firepower:
		SelectionShares: 20
		Sequence: firepowerup
		Condition: crate-firepower
		Sound: firepowerup.aud
		Notification: WeaponUpgraded
	GrantExternalConditionCrateAction@speed:
		SelectionShares: 20
		Sequence: speedup
		Condition: crate-speed
		Sound: speedup.aud
		Notification: SpeedUpgraded
	GrantExternalConditionCrateAction@range:
		SelectionShares: 20
		Sequence: airstrike
		Condition: crate-range
		Sound: rangeup.aud
		Notification: RangeUpgraded
	GrantExternalConditionCrateAction@rof:
		SelectionShares: 20
		Sequence: rateoffireup
		Condition: crate-rof
		Sound: rateoffireup.aud
		Notification: RapidReload
	GrantExternalConditionWhenShroudOrFogEnabledCrateAction@sight:
		SelectionShares: 20
		Sequence: reveal-map
		Condition: crate-sight
		Sound: radarup.aud
		Notification: RangeUpgraded
	LevelUpCrateAction:
		Levels: 1
		SelectionShares: 5
		Prerequisites: global-veterancy
	PlayerExperienceCrateAction:
		Experience: 5
		SelectionShares: 2
		Sequence: experience
	TeleportCrateAction:
		MinDistance: 5
		SetCameraPosition: true
		Sequence: teleport
		SelectionShares: 5
		Sound: teleport.aud
		Notification: TeleportActivated
	RenderSprites:
		Image: crate-brown

UPGRADECRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrates
	SSCrate:
		Lifetime: 240
	GrantExternalConditionCrateAction@armor:
		SelectionShares: 20
		Sequence: armorup
		Condition: crate-armor
		Sound: armorup.aud
		Notification: MegaArmor
		Levels: 2
	GrantExternalConditionCrateAction@firepower:
		SelectionShares: 20
		Sequence: firepowerup
		Condition: crate-firepower
		Sound: firepowerup.aud
		Notification: MegaWeapon
		Levels: 2
	GrantExternalConditionCrateAction@speed:
		SelectionShares: 20
		Sequence: speedup
		Condition: crate-speed
		Sound: speedup.aud
		Notification: MegaSpeed
		Levels: 2
	GrantExternalConditionCrateAction@range:
		SelectionShares: 20
		Sequence: airstrike
		Condition: crate-range
		Sound: rangeup.aud
		Notification: MegaRange
		Levels: 2
	GrantExternalConditionCrateAction@rof:
		SelectionShares: 20
		Sequence: rateoffireup
		Condition: crate-rof
		Sound: rateoffireup.aud
		Notification: MegaReload
		Levels: 2
	GrantExternalConditionWhenShroudOrFogEnabledCrateAction@sight:
		SelectionShares: 20
		Sequence: reveal-map
		Condition: crate-sight
		Sound: radarup.aud
		Notification: MegaRange
		Levels: 2
	RenderSprites:
		Image: crate-blue

HEALCRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrateg
	SSCrate:
		Lifetime: 240
	SSHealCrateAction:
		Weapon: Atomic
		Sequence: heal
		SelectionShares: 30
		Notification: HealthUpgraded
		WeaponNotification: NuclearBomb
	RenderSprites:
		Image: crate-green

EXPERIENCECRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrated
	SSCrate:
		Lifetime: 240
	LevelUpCrateAction:
		Levels: 1
		SelectionShares: 1
		Prerequisites: global-veterancy
	PlayerExperienceCrateAction:
		Experience: 20
		SelectionShares: 19
		Sequence: experience
	RenderSprites:
		Image: crate-dark

WACKYCRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrateo
	SSCrate:
		Lifetime: 240
	WackyCrateAction@NORMAL:
		SelectionShares: 1
		Sequence: wacky
		Duration: 250
		Condition: crate-wacky
		Prerequisites: !proxy.wacky
	WackyCrateAction@WACKY:
		SelectionShares: 1
		Sequence: wacky
		Duration: 750
		Condition: crate-wacky
		Prerequisites: proxy.wacky
	RenderSprites:
		Image: crate-orange

ARMAGEDDONCRATE:
	Inherits: ^Crate
	WithCrateBody:
		XmasImages: xcrater
	SSCrate:
		Lifetime: 480
	ArmageddonCrateAction@ARMAGEDDON:
		SelectionShares: 1
		Sequence: redskull
	RenderSprites:
		Image: crate-red

mpspawn:
	Interactable:
	EditorOnlyTooltip:
		Name: (multiplayer player starting point)
	AlwaysVisible:
	Immobile:
		OccupiesSpace: false
	WithSpriteBody:
	RenderSpritesEditorOnly:
	BodyOrientation:
		QuantizedFacings: 1
	MapEditorData:
		Categories: System

waypoint:
	Interactable:
	EditorOnlyTooltip:
		Name: (waypoint for scripted behavior)
	AlwaysVisible:
	Immobile:
		OccupiesSpace: false
	WithSpriteBody:
	RenderSpritesEditorOnly:
	BodyOrientation:
		QuantizedFacings: 1
	MapEditorData:
		Categories: System

fact.colorpicker:
	Inherits: FACT
	-MapEditorData:
	RenderSprites:
		Image: fact
		Palette: colorpicker
		
proxy.wacky:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Wacky Mode
	ProvidesPrerequisite@proxyname:

proxy.cloak-detector:
	Inherits: CAMERA
	-Immobile:
	-RevealsShroud:
	Mobile:
		Locomotor: foot
	RejectsOrders:
	DetectCloaked:
		Range: 1024c0
	KillsSelf:
		Delay: 625
		RemoveInstead: true
	RenderSpritesEditorOnly:
		Image: CAMERA

proxy.cloak-remover:
	Inherits: CAMERA
	-Immobile:
	-RevealsShroud:
	Mobile:
		Locomotor: foot
	RejectsOrders:
	ProximityExternalCondition:
		Condition: cloak-global-disable
		Range: 1024c0
	KillsSelf:
		Delay: 625
		RemoveInstead: true
	RenderSpritesEditorOnly:
		Image: CAMERA

CAMERA:
	Interactable:
	EditorOnlyTooltip:
		Name: (reveals area to owner)
	AlwaysVisible:
	WithSpriteBody:
	RenderSpritesEditorOnly:
	BodyOrientation:
		QuantizedFacings: 1
	Immobile:
		OccupiesSpace: false
	RevealsShroud:
		Range: 10c0
		Type: CenterPosition
	MapEditorData:
		Categories: System

CAMERA.small:
	Interactable:
	EditorOnlyTooltip:
		Name: (reveals small area to owner)
	AlwaysVisible:
	WithSpriteBody:
	RenderSpritesEditorOnly:
		Image: camera
	BodyOrientation:
		QuantizedFacings: 1
	Immobile:
		OccupiesSpace: false
	Health:
		HP: 100000
	HitShape:
	RevealsShroud:
		Range: 6c0
		Type: CenterPosition
	MapEditorData:
		Categories: System

CAMERA.spyplane:
	Inherits: CAMERA.small
	Inherits@CRATE: ^AcceptsCratePowerups
	Inherits@EXTERNAL-SIGHT: ^RequiresExternalSightCratePowerup
	ConditionManager:
	RevealsShroud:
		Range: 7c512
	DetectCloaked:
		Range: 7c512

FLARE:
	Immobile:
		OccupiesSpace: false
	RevealsShroud:
		Range: 3c0
		Type: CenterPosition
	RenderSprites:
		Image: smokland
		Palette: terrain
	WithSpriteBody:
		StartSequence: open
	HiddenUnderFog:
		Type: CenterPosition
	Tooltip:
		Name: Flare
		ShowOwnerRow: false
	BodyOrientation:
		QuantizedFacings: 1
	MapEditorData:
		Categories: System
	Interactable:

FLAG:
	Flag:
		TerrainTypes: Clear, Rough, Road, Tiberium, BlueTiberium, Beach
	RenderSprites:
	WithSpriteBody:
	RevealsShroud:
		Range: 1c0
		Type: CenterPosition
	HiddenUnderFog:
		Type: CenterPosition
	BodyOrientation:
		QuantizedFacings: 1
	Interactable:

FLAGCIRCLE:
	Immobile:
		OccupiesSpace: false
	RenderSprites:
	WithSpriteBody:
	RevealsShroud:
		Range: 1c0
		Type: CenterPosition
	HiddenUnderFog:
		Type: CenterPosition
	BodyOrientation:
		QuantizedFacings: 1
	Interactable:
